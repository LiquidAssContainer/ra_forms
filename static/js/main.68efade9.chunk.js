(this.webpackJsonpra_forms=this.webpackJsonpra_forms||[]).push([[0],{16:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(9),s=n.n(c),o=n(2),u=n(0);function i(e){var t=e.value,n=e.onHexInputChange;return Object(u.jsx)("input",{className:"hex-input",onChange:function(e){var t=e.target.value;t.length<=7&&n(t.slice(1))},value:"#".concat(t),type:"text"})}var d={state:"default",backgroundColor:"#fff",output:"rgb(...)"},l={state:"error",backgroundColor:"#e74c3c",output:"\u041e\u0448\u0438\u0431\u043a\u0430!"};function j(){var e=Object(a.useState)(d),t=Object(o.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(""),s=Object(o.a)(c,2),j=s[0],b=s[1],m=function(){return Object(u.jsx)("button",{className:"copy-btn",onClick:function(){return navigator.clipboard.writeText(n.output)},children:"copy"})},f=n.backgroundColor,O=n.output;return Object(u.jsxs)("div",{className:"hex-container",style:{backgroundColor:f},children:[Object(u.jsx)(i,{className:"hex-input",value:j,onHexInputChange:function(e){if(b(e),6===e.length)try{var t=function(e){var t=e.match(/.{1,2}/g).map((function(e){var t=parseInt(e,16),n=parseInt(e[1],16);if(Number.isNaN(t)||Number.isNaN(n)||t<0||t>255)throw new Error;return t})),n=Object(o.a)(t,3),a=n[0],r=n[1],c=n[2];return"rgb(".concat(a,", ").concat(r,", ").concat(c,")")}(e);r({state:"success",backgroundColor:t,output:t})}catch(a){r(l)}else"default"!==n.state&&r(d)}}),Object(u.jsxs)("div",{className:"rgb-output",children:[O,"success"===n.state&&Object(u.jsx)(m,{})]})]})}var b=n(7),m=n(4),f=n(5),O=n(10),v=n.n(O);function p(e){var t=e.name,n=e.label,a=e.type,r=e.formData,c=e.onInputChange,s=e.isInvalid,o=function(e){var t=e.text;return Object(u.jsx)("div",{className:"input_error-message",children:t})};return Object(u.jsxs)("label",{className:"form_label",children:[Object(u.jsx)("span",{className:"form_label_text",children:n}),Object(u.jsx)("input",{className:v()("form_input",{invalid:s}),name:t,type:a,value:r[t],onChange:c}),s&&Object(u.jsx)(o,{text:"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u044d\u0442\u043e \u043f\u043e\u043b\u0435!"})]})}var x="\u0414\u0430\u0442\u0430 (\u0414\u0414.\u041c\u041c.\u0413\u0413)",h="\u041f\u0440\u043e\u0439\u0434\u0435\u043d\u043e (\u043a\u043c)",g="\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f",N={date:"",distance:""};function _(e){var t=e.onRecordAdd,n=Object(a.useState)(N),r=Object(o.a)(n,2),c=r[0],s=r[1],i=Object(a.useState)({}),d=Object(o.a)(i,2),l=d[0],j=d[1],b=function(e){var t={};for(var n in e)t[n]=!e[n];j(t)},O=function(e){var t=e.date,n=e.distance;return t&&n},v=function(e){var t=e.target,n=t.value,a=t.name;j((function(e){return Object(f.a)(Object(f.a)({},e),{},Object(m.a)({},a,!1))})),s((function(e){return Object(f.a)(Object(f.a)({},e),{},Object(m.a)({},a,n))}))};return Object(u.jsxs)("form",{className:"steps-manager_form",onSubmit:function(e){e.preventDefault(),O(c)?(s(N),e.target.reset(),t(c)):b(c)},children:[Object(u.jsx)(p,{name:"date",type:"date",label:x,onInputChange:v,formData:c,isInvalid:l.date}),Object(u.jsx)(p,{name:"distance",type:"number",label:h,onInputChange:v,formData:c,isInvalid:l.distance}),Object(u.jsx)("button",{className:"form_submit-btn",type:"submit",children:"\u041e\u041a"})]})}function y(e){var t=JSON.stringify(e);localStorage.setItem("steps-manager",t)}function C(e){var t=e.split("-"),n=Object(o.a)(t,3),a=n[0],r=n[1],c=n[2];return"".concat(c,".").concat(r,".").concat(a)}function I(e){var t=e.buttonType,n=e.clickHandler,a=e.date;return Object(u.jsx)("button",{className:"record_".concat(t,"-btn"),type:"button",onClick:function(){n(a)},children:"remove"===t?"\u0443\u0434\u0430\u043b\u0438\u0442\u044c":"\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})}function k(e){var t=e.children,n=t.records,a=t.onRecordRemove,r=function(e){var t=e.record,n=t.date,r=t.distance;return Object(u.jsxs)("div",{className:"steps-manager_record",children:[Object(u.jsx)("div",{className:"record_date",children:C(n)}),Object(u.jsx)("div",{className:"record_distance",children:r}),Object(u.jsx)(I,{buttonType:"remove",clickHandler:a,date:n})]})},c=n.map((function(e){return Object(u.jsx)(r,{record:e},e.date)}));return Object(u.jsx)("div",{className:"steps-manager_records_container",children:c})}function S(e){var t=[x,h,g],n=function(e){var t=e.text;return Object(u.jsx)("div",{className:"records_headline",children:t})};return Object(u.jsxs)("div",{className:"steps-manager_records",children:[Object(u.jsx)("div",{className:"records_headlines",children:t.map((function(e){return Object(u.jsx)(n,{text:e},e)}))}),Object(u.jsx)(k,{children:e})]})}function R(){var e=function(){var e=localStorage.getItem("steps-manager");try{return JSON.parse(e)}catch(t){return null}}()||[],t=Object(a.useState)(e),n=Object(o.a)(t,2),r=n[0],c=n[1];return Object(u.jsxs)("div",{className:"steps-manager_container",children:[Object(u.jsx)(_,{onRecordAdd:function(e){var t=e.date,n=e.distance,a=r.find((function(e){return e.date===t}));if(a)a.distance+=Number(n),c((function(e){return Object(b.a)(e)}));else{var s={date:t,distance:Number(n)};r.push(s);var o=function(e){return e.sort((function(e,t){return e.date<t.date?1:e.date>t.date?-1:0}))}(r);c(Object(b.a)(o))}y(r)}}),Object(u.jsx)(S,{records:r,onRecordRemove:function(e){var t=r.findIndex((function(t){return t.date===e}));-1!==t?(r.splice(t,1),c(Object(b.a)(r)),y(r)):console.log("\u041d\u0443 \u0432\u043e\u043e\u0431\u0449\u0435 \u0442\u0430\u043a\u043e\u0433\u043e \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430 \u0443\u0436\u0435 \u043d\u0435\u0442")}})]})}n(16);function w(){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(j,{}),Object(u.jsx)(R,{})]})}s.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(w,{})}),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.68efade9.chunk.js.map